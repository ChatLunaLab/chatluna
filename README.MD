<div align="center">

<img src="./logo.png" alt="é¡¹ç›®å›¾æ ‡" title="é¡¹ç›®å›¾æ ‡" width="300" />

ä¸­æ–‡ | [English](./README_EN.MD)

#

_å¤šå¹³å°æ¨¡å‹æ¥å…¥ï¼Œå¯æ‰©å±•ï¼Œå¤šç§è¾“å‡ºæ ¼å¼ï¼Œæä¾›å¤§è¯­è¨€æ¨¡å‹èŠå¤©æœåŠ¡çš„æœºå™¨äººæ’ä»¶ã€‚_

[![npm](https://img.shields.io/npm/v/koishi-plugin-chatluna/next)](https://www.npmjs.com/package/koishi-plugin-chatluna) [![npm](https://img.shields.io/npm/dm/koishi-plugin-chatluna)](https://www.npmjs.com/package/koishi-plugin-chatluna) ![node version](https://img.shields.io/badge/node-%3E=18-green) ![github top language](https://img.shields.io/github/languages/top/ChatLunaLab/chatluna?logo=github)

[![Telegram](https://img.shields.io/badge/Join-Telegram_Group-blue)](https://t.me/koishi_chatluna) [![QQ](https://img.shields.io/badge/Join-QQ_Group-ff69b4)](http://qm.qq.com/cgi-bin/qm/qr?_wv=1027&k=eEBVq6GK7HYX2y61x55WD6hnXTIRop-0&authKey=i4pG5%2BJ%2FY8auWprBubhremTkn3vroPigQq5m9RENGBLrLmlj%2BSu3G%2BqllK7Wts2M&noverify=0&group_code=282381753) [![doc](https://img.shields.io/badge/See-Document(WIP)-green)](https://chatluna.chat/)

**é¡¹ç›®çŠ¶æ€ï¼šç¼“æ…¢è¿­ä»£åˆ° 1.0 æ­£å¼ç‰ˆï¼ˆæ€¥éœ€äººæ‰‹è¡¥å…¨æ–‡æ¡£ï¼‰**

</div>

## æˆªå›¾

æ–½å·¥ä¸­.....

## ç‰¹æ€§

- ğŸš€ é«˜åº¦å¯æ‰©å±•ï¼ˆåŸºäº LangChain å’Œ Koishi APIï¼‰
- ğŸ­ è‡ªå®šä¹‰å¯¹è¯é¢„è®¾
- ğŸ›¡ï¸ é€Ÿç‡é™åˆ¶å’Œé»‘åå•ç³»ç»Ÿ
- ğŸ¨ å¤šæ ¼å¼è¾“å‡ºï¼ˆæ–‡æœ¬ã€è¯­éŸ³ã€å›¾åƒã€æ··åˆï¼‰
- ğŸ§  ä¸Šä¸‹æ–‡æ„ŸçŸ¥å’Œé•¿æœŸè®°å¿†
- ğŸ”€ ä¸‰ç§æ¨¡å¼ï¼šèŠå¤©ã€æµè§ˆã€æ’ä»¶
- ğŸ”’ å†…å®¹å®¡æ ¸ï¼ˆé€šè¿‡ [Koishi å®¡æ ¸æœåŠ¡](https://censor.koishi.chat/)ï¼‰


## TODO (ç”»é¥¼æ˜¯å§)

- [x] åŸºäºæˆ¿é—´çš„å¯¹è¯ç³»ç»Ÿ
- [x] å›å¤å†…å®¹å®¡æ ¸ ï¼ˆåŸºäºå…¶ä»–æ’ä»¶æä¾›çš„ censor æœåŠ¡ï¼‰
- [x] è¯­éŸ³è¾“å‡ºæ”¯æŒï¼ˆå³æ–‡å­—è½¬è¯­éŸ³ï¼ŒåŸºäº initialencounter
  ä½¬çš„ [vitsæœåŠ¡](https://github.com/initialencounter/mykoishi/blame/master/vits/readme.md)ï¼‰
- [x] å›¾ç‰‡æ¸²æŸ“å›å¤
- [x] æ¥å…¥æ›´å¤šæ¨¡å‹/å¹³å°
- [x] é¢„è®¾ç³»ç»Ÿ
- [x] ~~å¯¼å…¥æˆ–å¯¼å‡ºä¼šè¯è®°å½•ï¼ˆå®é™…æœªå®Œæˆï¼Œå·²æ”¾å¼ƒæ”¯æŒï¼‰~~
- [x] é‡æ„åˆ° v1 ç‰ˆæœ¬
- [x] æµå¼å“åº”æ”¯æŒ
- [x] i18n æœ¬åœ°åŒ–æ”¯æŒ

## éƒ¨ç½²

æˆ‘ä»¬å¯åœ¨ Koishi ä¸‹ç›´æ¥å®‰è£…æœ¬æ’ä»¶ä½¿ç”¨åŸºç¡€åŠŸèƒ½è€Œæ— éœ€é¢å¤–é…ç½®ã€‚

é˜…è¯» [æ­¤æ–‡æ¡£](https://chatluna.chat/guide/getting-started.html) äº†è§£æ›´å¤šã€‚

## é€‚é…æ”¯æŒ

æˆ‘ä»¬ç›®å‰æ”¯æŒä»¥ä¸‹æ¨¡å‹/å¹³å°ï¼š

| æ¨¡å‹/å¹³å°                                                | æ¥å…¥æ–¹å¼                   | ç‰¹æ€§                                           | æ³¨æ„äº‹é¡¹                                  |
|:-----------------------------------------------------|:-----------------------|----------------------------------------------|:--------------------------------------|
| [OpenAI](./packages/openai-adapter/README.md)        | æœ¬åœ° Clientï¼Œå®˜æ–¹ API æ¥å…¥    | å¯è‡ªå®šä¹‰äººæ ¼ï¼Œæ”¯æŒæ’ä»¶/æµè§ˆæ¨¡å¼ç­‰èŠå¤©æ¨¡å¼                        | API æ¥å…¥éœ€è¦ä»˜è´¹                            |
| [Azure OpenAI](./packages/azure-openai-adapter/README.md) | æœ¬åœ° Clientï¼Œå®˜æ–¹ API æ¥å…¥    | å¯è‡ªå®šä¹‰äººæ ¼ï¼Œæ”¯æŒæ’ä»¶/æµè§ˆæ¨¡å¼ç­‰èŠå¤©æ¨¡å¼                        | API æ¥å…¥éœ€è¦ä»˜è´¹                            |
| [Google Gemini](./packages/gemini-adapter/README.md) | æœ¬åœ° Clientï¼Œå®˜æ–¹ API æ¥å…¥    | é€Ÿåº¦å¿«ï¼Œæ€§èƒ½è¶…è¶Š GPT-3.5                             | éœ€è¦æœ‰ Gemini è®¿é—®æƒé™è´¦å·ï¼Œå¯èƒ½æ”¶è´¹                |
| [New Bing](./packages/newbing-adapter/README.md)     | æœ¬åœ° Clientï¼Œé€†å‘ API æ¥å…¥    | è‡ªå¸¦ç½‘ç»œæœç´¢ï¼Œå¼ºæ—¶æ•ˆæ€§ï¼Œå¯æ— éœ€ç™»å½•ä½¿ç”¨                          | éœ€è¦ä»£ç†ï¼Œéœ€è¦è¿‡éªŒè¯ç ï¼ˆæ— éœ€ Cookie ä¹Ÿå¯ç”¨ï¼‰                        |
| [Claude API](./packages/claude-adapter)              | æœ¬åœ° Client,å®˜æ–¹ API æ¥å…¥    | è¶…å¤§ä¸Šä¸‹æ–‡ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹èƒ½è¶…è¿‡ GPT 3.5ï¼Œéœ€è¦ API KEYï¼Œæ”¶è´¹        | å¯èƒ½è¾ƒè´µï¼Œä¸æ”¯æŒ Function Call                                         |
| [é€šä¹‰åƒé—®](./packages/qwen-adapter/README.md)            | æœ¬åœ° Clientï¼Œå®˜æ–¹ API æ¥å…¥    | é˜¿é‡Œå‡ºå“å›½äº§æ¨¡å‹ï¼Œæœ‰å…è´¹é¢åº¦                               | å®æµ‹æ•ˆæœæ¯”æ™ºè°±ç•¥å¥½ |
| [æ™ºè°±](./packages/zhipu-adapter/README.md)             | æœ¬åœ° Clientï¼Œå®˜æ–¹ API æ¥å…¥    | ChatGLMï¼Œæ–°äººæ³¨å†Œå¯è·å–å…è´¹ Token é¢åº¦                   | å®æµ‹æ•ˆæœæ¯”è®¯é£æ˜Ÿç«ç•¥å¥½                      |
| [è®¯é£æ˜Ÿç«](./packages/spark-adapter/README.md)           | æœ¬åœ° Clientï¼Œå®˜æ–¹ API æ¥å…¥    | å›½äº§æ¨¡å‹ï¼Œæ–°äººæ³¨å†Œå¯è·å–å…è´¹ Token é¢åº¦                      | å®æµ‹æ•ˆæœçº¦ç­‰äº GPT 3.5                 |
| [æ–‡å¿ƒä¸€è¨€](./packages/wenxin-adapter/README.md)          | æœ¬åœ° Clientï¼Œå®˜æ–¹ API æ¥å…¥    | ç™¾åº¦å‡ºå“ç³»åˆ—æ¨¡å‹æ¨¡å‹                                | å®æµ‹æ•ˆæœæ¯”è®¯é£æ˜Ÿç«ç•¥å·®                           |
| [æ··å…ƒå¤§æ¨¡å‹](./packages/hunyuan-adapter/README.md)          | æœ¬åœ° Clientï¼Œå®˜æ–¹ API æ¥å…¥    | è…¾è®¯å‡ºå“ç³»åˆ—å¤§æ¨¡å‹                              | å®æµ‹æ•ˆæœæ¯”æ–‡å¿ƒä¸€è¨€å¥½                     |
| [Ollama](./packages/ollama-adapter/README.md)            | æœ¬åœ° Clientï¼Œè‡ªæ­å»º API æ¥å…¥   | çŸ¥åå¼€æºæ¨¡å‹åˆé›†ï¼Œæ”¯æŒ CPU / GPU æ··åˆéƒ¨ç½²ï¼Œå¯æœ¬åœ°æ­å»º                                 | éœ€è¦è‡ªå·±æ­å»ºåç«¯ APIï¼Œè¦æ±‚ä¸€å®šçš„é…ç½®                  |
| [GPT Free](./packages/gptfree-adapter/README.md)     | æœ¬åœ° Clientï¼Œå®˜æ–¹ API æ¥å…¥    | æœ¬åœ°è½¬å‘ä½¿ç”¨å…¶ä»–ç½‘ç«™çš„ GPT æ¨¡å‹ï¼Œé¡¹ç›®è‡ªåŠ¨é…ç½®ç½‘ç«™ç­‰é…ç½®ï¼Œæ— éœ€æ‰‹åŠ¨æ³¨å†Œ        | å¯èƒ½éšæ—¶å¤±æ•ˆï¼Œä¸ç¨³å®š                            |
| [ChatGLM](./packages/chatglm-adapter/README.md)      | æœ¬åœ° Clientï¼Œè‡ªæ­å»ºåç«¯ API æ¥å…¥ | å¯æœ¬åœ°æ­å»ºï¼Œå››èˆäº”å…¥ä¸è¦é’±                                | éœ€è¦è‡ªå·±æ­å»ºåç«¯ APIï¼Œè¦æ±‚ä¸€å®šçš„é…ç½®ï¼Œæ¨¡å‹å‚æ•°ä¸å¤Ÿå¤§å¯¼è‡´èŠå¤©æ•ˆæœä¸å¤Ÿå¥½ |
| [RWKV](./packages/rwkv-adapter/README.md)            | æœ¬åœ° Clientï¼Œè‡ªæ­å»º API æ¥å…¥   | çŸ¥åå¼€æºæ¨¡å‹ï¼Œå¯æœ¬åœ°æ­å»º                                 | éœ€è¦è‡ªå·±æ­å»ºåç«¯ APIï¼Œè¦æ±‚ä¸€å®šçš„é…ç½®                  |

[ä¸ºæ¨¡å‹æä¾›ç½‘ç»œæœç´¢èƒ½åŠ›](/packages/search-service/README.md) æˆ‘ä»¬æ”¯æŒï¼š

- Google (API)
- Bing (API & Web)
- DuckDuckGO (Lite)

## é¢„è®¾

ä» `1.0.0-alpha.10` ç‰ˆæœ¬å¼€å§‹ï¼Œæˆ‘ä»¬ä½¿ç”¨æ›´åŠ å¯å®šåˆ¶åŒ–çš„é¢„è®¾ã€‚æ–°çš„äººæ ¼é¢„è®¾ä½¿ç”¨ yaml åšä¸ºé…ç½®æ–‡ä»¶ã€‚

ä½ å¯ä»¥ç‚¹è¿™é‡Œæ¥æŸ¥çœ‹æˆ‘ä»¬é»˜è®¤é™„å¸¦çš„äººæ ¼æ–‡ä»¶ï¼š[catgirl.yml](/packages/core/resources/presets/catgirl.yml)

æˆ‘ä»¬é»˜è®¤çš„é¢„è®¾æ–‡ä»¶å¤¹è·¯å¾„ä¸º `ä½ å½“å‰è¿è¡Œæ’ä»¶çš„ koishi ç›®å½•çš„è·¯å¾„+/data/chathub/presets`ã€‚

æ‰€æœ‰çš„é¢„è®¾æ–‡ä»¶éƒ½æ˜¯ä»ä¸Šé¢çš„æ–‡ä»¶å¤¹ä¸ŠåŠ è½½çš„ã€‚å› æ­¤ä½ å¯ä»¥è‡ªç”±æ·»åŠ å’Œç¼–è¾‘é¢„è®¾æ–‡ä»¶åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼Œç„¶åä½¿ç”¨å‘½ä»¤æ¥åˆ‡æ¢äººæ ¼é¢„è®¾ã€‚

å¦‚éœ€äº†è§£æ›´å¤šï¼Œå¯æŸ¥çœ‹[æ­¤æ–‡æ¡£](https://chatluna.chat/guide/preset-system/introduction.html)ã€‚

## Fork & Develop

åœ¨ä»»æ„ Koishi æ¨¡ç‰ˆé¡¹ç›®ä¸Šè¿è¡Œä¸‹åˆ—æŒ‡ä»¤æ¥å…‹éš† ChatLunaï¼š

```bash
# yarn
yarn clone ChatLunaLab/chatluna
# npm
npm run clone ChatLunaLab/chatluna
```

å¯å°†ä¸Šé¢ `ChatLunaLab/chatluna-koishi` æ›¿æ¢æˆä½ è‡ªå·± Fork åçš„é¡¹ç›®åœ°å€ã€‚

ç„¶åç¼–è¾‘æ¨¡ç‰ˆé¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ `tsconfig.json` æ–‡ä»¶ï¼Œåœ¨ `compilerOptions.paths` ä¸­æ·»åŠ  ChatLuna é¡¹ç›®è·¯å¾„ã€‚

``` json
{
  "extends": "./tsconfig.base",
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "koishi-plugin-chatluna-*": ["external/chatluna/packages/*/src"]
    }
  }
}
```

ç”±äºé¡¹ç›®æœ¬èº«æ¯”è¾ƒå¤æ‚ï¼Œåˆå§‹ä½¿ç”¨å¿…é¡»æ„å»ºä¸€æ¬¡ã€‚

``` bash
# yarn
yarn workspace @root/chatluna-koishi build
# npm
npm run build -w @root/chatluna-koishi
```

å®Œæˆï¼ç°åœ¨å³å¯åœ¨æ ¹é¡¹ç›®ä¸­ä½¿ç”¨ `yarn dev` æˆ– `npm run dev` å¯åŠ¨æ¨¡ç‰ˆé¡¹ç›®å¹¶äºŒæ¬¡å¼€å‘ ChatLunaã€‚

> è™½ç„¶ Koishi æ”¯æŒæ¨¡å—çƒ­æ›¿æ¢(hmr)ï¼Œä½†æœ¬é¡¹ç›®å¯èƒ½å¹¶æœªå®Œå…¨å…¼å®¹ã€‚
>
> å¦‚æœä½ åœ¨ä½¿ç”¨ hmr äºŒæ¬¡å¼€å‘æœ¬é¡¹ç›®æ—¶å‡ºç°äº† Bugï¼Œè¯·åœ¨ Issue ä¸­æå‡ºï¼Œå¹¶æŒ‰ä¸Šé¢æ­¥éª¤é‡æ–°æ„å»ºé¡¹ç›®å¹¶é‡å¯ Koishi ä»¥å°è¯•ä¿®å¤ã€‚

## Help

ç›®å‰ ChatLuna é¡¹ç›®ç»„äº§èƒ½æä¸ºç¨€ç¼ºï¼Œæ²¡æœ‰æ›´å¤šäº§èƒ½æ¥å®Œæˆä¸‹é¢çš„ç›®æ ‡ï¼š

- [ ] Web UI
- [ ] Http Server
- [ ] Project Documentation

æ¬¢è¿æäº¤ Pull Request æˆ–è¿›è¡Œè®¨è®ºï¼Œæˆ‘ä»¬éå¸¸æ¬¢è¿æ‚¨çš„è´¡çŒ®ï¼

## è´¡çŒ®è€…åå•

<a href="https://github.com/ChatLunaLab/chatluna/graphs/contributors">
  <img src="https://contrib.rocks/image?repo=ChatLunaLab/chatluna" />
</a>

![Alt](https://repobeats.axiom.co/api/embed/d92b5a9398ee02a797355ed9b866aa93231c25b3.svg "Repobeats analytics image")

[![Star History Chart](https://api.star-history.com/svg?repos=ChatLunaLab/chatluna&type=Date)](https://star-history.com/#ChatLunaLab/chatluna)

## ä½¿ç”¨é¡»çŸ¥

æœ¬é¡¹ç›®ç”±[ChatLunaLab](https://github.com/ChatLunaLab) å¼€å‘ã€‚

ChatLunaï¼ˆä¸‹ç§°æœ¬é¡¹ç›®ï¼‰
æ˜¯ä¸€ä¸ªåŸºäºå¤§å‹è¯­è¨€æ¨¡å‹çš„å¯¹è¯æœºå™¨äººæ¡†æ¶ã€‚æˆ‘ä»¬è‡´åŠ›äºä¸å¼€æºç¤¾åŒºåˆä½œï¼Œæ¨åŠ¨å¤§æ¨¡å‹æŠ€æœ¯çš„å‘å±•ã€‚æˆ‘ä»¬å¼ºçƒˆå‘¼åå¼€å‘è€…å’Œå…¶ä»–ä½¿ç”¨è€…éµå®ˆå¼€æºåè®®ï¼Œç¡®ä¿ä¸å°†æœ¬é¡¹ç›®ï¼ˆä»¥åŠç¤¾åŒºæ¨åŠ¨çš„åŸºäºæœ¬é¡¹ç›®çš„å…¶ä»–è¡ç”Ÿäº§å“ï¼‰çš„æ¡†æ¶å’Œä»£ç ä»¥åŠç›¸å…³è¡ç”Ÿç‰©ç”¨äºå¯èƒ½å¯¹å›½å®¶å’Œç¤¾ä¼šé€ æˆå±å®³çš„ä»»ä½•ç›®çš„ï¼Œä»¥åŠæœªç»è¿‡å®‰å…¨è¯„ä¼°å’Œå¤‡æ¡ˆçš„æœåŠ¡ã€‚

æœ¬é¡¹ç›®ä¸ç›´æ¥æä¾›ä»»ä½•ç”Ÿæˆå¼äººå·¥æ™ºèƒ½æœåŠ¡çš„æ”¯æŒï¼Œéœ€è¦ä½¿ç”¨è€…è‡ªè¡Œä»æä¾›äº†ç”Ÿäº§å¼äººå·¥æ™ºèƒ½æœåŠ¡çš„ç»„ç»‡æˆ–ä¸ªäººè·å–ä½¿ç”¨çš„ç®—æ³• APIã€‚

å¦‚æœæ‚¨ä½¿ç”¨äº†æœ¬é¡¹ç›®ï¼Œè¯·æ‚¨éµå¾ªå½“åœ°åœ°åŒºçš„æ³•å¾‹æ³•è§„ï¼Œä½¿ç”¨åœ¨å½“åœ°åœ°åŒºå†…å¯ç”¨çš„ç”Ÿäº§å¼äººå·¥æ™ºèƒ½æœåŠ¡ç®—æ³•ã€‚

æœ¬é¡¹ç›®ä¸å¯¹ç®—æ³•ç”Ÿæˆçš„ç»“æœè´Ÿè´£ï¼Œæ‰€æœ‰ç»“æœå’Œæ“ä½œå‡ç”±ä½¿ç”¨è€…è‡ªè¡Œè´Ÿè´£ã€‚

æœ¬é¡¹ç›®çš„ç›¸å…³ä¿¡æ¯å­˜å‚¨å‡ç”±ç”¨æˆ·è‡ªè¡Œé…ç½®æ¥æºï¼Œé¡¹ç›®æœ¬èº«ä¸æä¾›ç›´æ¥çš„ä¿¡æ¯å­˜å‚¨ã€‚

æœ¬é¡¹ç›®ä¸æ‰¿æ‹…ä½¿ç”¨è€…å¯¼è‡´çš„æ•°æ®å®‰å…¨ã€èˆ†æƒ…é£é™©æˆ–å‘ç”Ÿä»»ä½•æ¨¡å‹è¢«è¯¯å¯¼ã€æ»¥ç”¨ã€ä¼ æ’­ã€ä¸å½“åˆ©ç”¨è€Œäº§ç”Ÿçš„é£é™©å’Œè´£ä»»ã€‚

## æ„Ÿè°¢

æœ¬é¡¹ç›®åœ¨ç¼–å†™æ—¶ä¹Ÿå‚è€ƒäº†å…¶ä»–çš„å¼€æºé¡¹ç›®ï¼Œç‰¹åˆ«æ„Ÿè°¢ä»¥ä¸‹é¡¹ç›®ï¼š

[koishi-plugin-openai](https://github.com/TomLBZ/koishi-plugin-openai)

[node-chatgpt-api](https://github.com/waylaidwanderer/node-chatgpt-api)

[poe-api](https://github.com/ading2210/poe-api)

[Bard](https://github.com/muhiris/wgpt)

[chathub](https://github.com/chathub-dev/chathub)

å¦æ„Ÿè°¢ [JetBrains](https://www.jetbrains.com/?from=ChatLuna)
ä¸ºæœ¬é¡¹ç›®æä¾› [WebStorm](https://www.jetbrains.com/webstorm/?from=ChatLuna) ç­‰ IDE çš„å…è´¹å¼€æºè®¸å¯è¯ã€‚

[<img src=".github/jetbrains-variant-3.png" width="200"/>](https://www.jetbrains.com/?from=ChatLuna)
